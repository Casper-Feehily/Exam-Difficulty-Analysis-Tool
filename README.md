
# 考试难度系数分析工具

这是一个用于**检验考试难度系数是否合理**的 Python 程序。通过模拟和统计分析方法，比较设定的考试难度与学生实际考试表现之间的契合程度。适用于教学质量分析、考试命题评估等场景。

---

## 📌 功能介绍

本程序通过以下三种统计方法判断考试设定难度系数的合理性：

1. **方法一：真实总分概率对比法（含分层模拟）**
2. **方法二：偏差概率差法**
3. **方法三：正态分布近似法**

程序根据用户输入的考试人数、设定难度系数、满分、实际平均分、题目数量等参数，输出每种方法的统计推断和结论，辅助判断难度是否匹配学生水平。

---

## 🧠 方法实现思路

### 方法一：真实总分概率对比法（含分层模拟）

- **核心思想**：将学生分为三层次群体（高、中、低），基于设定难度调整每组学生的作答正确率。
- **操作流程**：
  - 按比例将学生分层（高40%、中40%、低20%）。
  - 为每层学生设定调整后的答题概率（±33%偏移）。
  - 模拟100,000次考试，分别计算：
    - 模拟结果落在 ±delta 区间的真实概率（x）
    - 设定难度下的理论总分落在 ±delta 区间的概率（y）
  - 计算真实可能性指标 `1 - |x - y| / y`，越接近1说明越符合。

---

### 方法二：偏差概率差法

- **核心思想**：基于实际平均分反推出一个“隐含难度”，与设定难度进行模拟比较。
- **操作流程**：
  - 假设真实考试的平均分推导出一个“估算难度”。
  - 分别基于设定难度与估算难度，模拟考试并计算学生平均分。
  - 计算两种模型下，模拟平均分大于/小于实际均分的概率（a, b）。
  - 通过 `b - a` 衡量设定难度是否偏高或偏低，差值越大说明偏差越严重。

---

### 方法三：正态分布近似法

- **核心思想**：检验模拟成绩是否服从正态分布，并用正态分布计算实际平均分的累积概率。
- **操作流程**：
  - 基于设定难度，模拟所有学生的考试得分。
  - 使用 Shapiro-Wilk 检验判断得分是否服从正态分布。
  - 若满足正态性，则计算实际平均分在模拟分布中的标准化值（Z分数）与对应累积概率。
  - 根据正态分布特性，判断实际平均是否显著偏离期望值。

---

## ▶️ 使用方法

### ✅ 运行环境要求

- Python 3.7+
- 安装依赖库：
  ```bash
  pip install numpy scipy
  ```

### ✅ 运行方式

1. 保存代码为 `difficulty_checker.py`
2. 在终端运行：
   ```bash
   python3 difficulty_checker.py
   ```

3. 根据提示依次输入：

   - 考试人数（整数）
   - 设定的难度系数（0-1）
   - 试卷满分（>0）
   - 实际平均分（0-满分）
   - 题目数量（整数）
   - delta值（用于方法一的误差容差）

4. 程序将依次执行三种方法并给出结果和结论。

---

## 🧪 示例

假设一次考试参数如下：

- 考试人数：100
- 设定难度系数：0.6
- 满分：100
- 实际平均分：65
- 题目数量：50
- delta = 5.0

运行后程序将输出三种方法的分析结论，帮助你判断设定的难度是否合理。

---

## 📎 注意事项

- 方法一计算量较大，请耐心等待模拟完成。
- 若方法三的正态性检验不通过，请以方法一和方法二为主。
- delta 值建议设为 试卷总分的 5%-10% 以便体现合理容差。
